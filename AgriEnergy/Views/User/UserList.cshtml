@model IEnumerable<AgriEnergy.Models.User>

@{
    ViewData["Title"] = "User List";
}

<div class="container mt-5" data-aos="fade-down">
    <h1 class="text-center title-text">User Management</h1>
    <p class="text-center subtitle-text">View and update user roles</p>
</div>

<div class="container mt-4" data-aos="fade-up">
    <table class="table table-hover table-bordered table-striped shadow-sm rounded">
        <thead class="table-dark">
            <tr>
                <th>Name</th>
                <th>Role</th>
                <th class="text-center">Actions</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var user in Model)
            {
                <tr data-aos="fade-up" data-aos-delay="100">
                    <td>@user.Name</td>
                    <td>@user.Role</td>
                    <td class="text-center">
                        <form asp-action="ChangeRole" method="post"
                            class="d-inline-flex align-items-center justify-content-center gap-2 flex-wrap">
                            <input type="hidden" name="id" value="@user.UserId" />

                            <input type="radio" class="btn-check" name="role" id="employee-@user.UserId" value="EMPLOYEE"
                                autocomplete="off" @(user.Role == "EMPLOYEE" ? "checked" : "")>
                            <label class="btn btn-outline-primary btn-sm" for="employee-@user.UserId">EMPLOYEE</label>

                            <input type="radio" class="btn-check" name="role" id="farmer-@user.UserId" value="FARMER"
                                autocomplete="off" @(user.Role == "FARMER" ? "checked" : "")>
                            <label class="btn btn-outline-primary btn-sm" for="farmer-@user.UserId">FARMER</label>

                            <button type="submit" class="btn btn-success btn-sm">Save</button>
                        </form>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>

<style>
    .title-text {
        font-size: 48px;
        font-weight: 700;
        color: #024d0a;
    }

    .subtitle-text {
        font-size: 20px;
        color: #555;
        margin-top: -10px;
    }

    .table {
        background-color: white;
        border-radius: 8px;
        overflow: hidden;
    }

    th,
    td {
        vertical-align: middle !important;
    }

    .btn-outline-primary:hover,
    .btn-success:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }

    body {
        background-image: url('https://images.rawpixel.com/image_1300/cHJpdmF0ZS9sci9pbWFnZXMvd2Vic2l0ZS8yMDIyLTA2L3YxMTYtYWdyaWN1bHR1cmUtMDJlXzEuanBn.jpg');
        background-position: center top;
        background-repeat: no-repeat;
        background-size: cover;
        background-attachment: fixed;
        margin: 0;
    }

    .btn {
        transition: all 0.3s ease;
    }
</style>

<!-- Bootstrap 5 -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<!-- AOS -->
<link href="https://unpkg.com/aos@2.3.4/dist/aos.css" rel="stylesheet" />
<script src="https://unpkg.com/aos@2.3.4/dist/aos.js"></script>
<script>
    AOS.init({
        duration: 800,
        once: true
    });
</script>
